{% extends 'layout.html' %}
{% block content %}
<div class="index-container">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h2 class="hero-title">ğŸŒŸ BIENVENUE Ã€ LA BIBLIOTHÃˆQUE</h2>
      <p class="hero-subtitle">GÃ©rez votre bibliothÃ¨que facilement et efficacement</p>
    </div>
  </section>

  <!-- Stats Cards -->
  <section class="stats-cards">
    <div class="stat-item">
      <div class="stat-icon">ğŸ“–</div>
      <div class="stat-body">
        <div class="stat-value" id="stat-books">{{ total_books }}</div>
        <div class="stat-name">Ouvrages</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">ğŸ‘¥</div>
      <div class="stat-body">
        <div class="stat-value" id="stat-users">{{ total_users }}</div>
        <div class="stat-name">AdhÃ©rents</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">ğŸ”„</div>
      <div class="stat-body">
        <div class="stat-value" id="stat-loans">{{ active_loans }}</div>
        <div class="stat-name">Emprunts actifs</div>
      </div>
    </div>
  </section>

  <!-- Quick Actions -->
  <section class="quick-actions">
    <h3>âš¡ ACTIONS RAPIDES</h3>
    <div class="actions-grid">
      <a href="/books" class="action-btn">
        <span class="action-icon">ğŸ“‹</span>
        <span class="action-text">Lister les ouvrages</span>
      </a>
      <a href="/register" class="action-btn">
        <span class="action-icon">â•</span>
        <span class="action-text">Ajouter un usager</span>
      </a>
      <a href="/users" class="action-btn">
        <span class="action-icon">ğŸ‘¥</span>
        <span class="action-text">Voir les usagers</span>
      </a>
      <a href="/admin" class="action-btn">
        <span class="action-icon">ğŸ“Š</span>
        <span class="action-text">Gestion admin</span>
      </a>
    </div>
  </section>

  <!-- Features -->
  <section class="features">
    <h3>â­ FONCTIONNALITÃ‰S</h3>
    <div class="features-grid">
      <div class="feature-box">
        <div class="feature-icon">ğŸ’¾</div>
        <h4>Gestion des livres</h4>
        <p>Consultez, empruntez et gÃ©rez facilement tous vos ouvrages</p>
      </div>
      <div class="feature-box">
        <div class="feature-icon">ğŸ”</div>
        <h4>Recherche avancÃ©e</h4>
        <p>Trouvez rapidement vos livres par titre ou auteur</p>
      </div>
      <div class="feature-box">
        <div class="feature-icon">ğŸ“Š</div>
        <h4>Statistiques</h4>
        <p>Suivez les emprunts et rÃ©servations en temps rÃ©el</p>
      </div>
    </div>
  </section>

  <!-- Search Section -->
  <section class="search-section">
    <h3>ğŸ” RECHERCHER UN OUVRAGE</h3>
    <form method="get" action="/search" class="search-form">
      <input type="text" name="q" class="search-input" placeholder="Titre ou auteur..." required>
      <button type="submit" class="search-btn">ğŸ” Rechercher</button>
    </form>
  </section>

  <!-- Recent Books -->
  <section class="recent-books">
    <h3>ğŸ“š OUVRAGES RÃ‰CENTS</h3>
    <div class="books-list" id="books-container">
      {% if books %}
        {% for b in books[:6] %}
        <div class="book-card">
          <div class="book-cover">ğŸ“–</div>
          <div class="book-info">
            <h4><a href="{{ url_for('book_detail', book_id=b.id) }}">{{ b.title }}</a></h4>
            <p class="author">{{ b.author }}</p>
            <p class="availability">
              {% if b.available_copies() > 0 %}
                <span class="badge success">{{ b.available_copies() }} disponible(s)</span>
              {% else %}
                <span class="badge danger">Non disponible</span>
              {% endif %}
            </p>
          </div>
        </div>
        {% endfor %}
      {% endif %}
    </div>
  </section>
</div>

<script src="/static/app.js"></script>
{% endblock %}
